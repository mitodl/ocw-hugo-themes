{{ $homeUrl := partial "home_url.html" }}
{{ $searchUrl := "https://rc.learn.mit.edu" }}

<header id="mit-learn-header" class="mit-learn-header" role="banner">
  <div class="mit-learn-header-bar">
    <div class="mit-learn-header-desktop">
      {{/* Left side: Logo / Explore (from Figma) */}}
      <div class="mit-learn-header-left">
        <a href="{{ $homeUrl }}" class="mit-learn-logo-link" title="MIT Learn Homepage">
          <img 
            src="{{- partial "get_asset_webpack_url.html" "images/mit_learn_logo.svg" -}}" 
            alt="MIT Learn" 
            class="mit-learn-logo"
          />
        </a>
        <button 
          id="mit-learn-menu-button-desktop"
          class="mit-learn-menu-button"
          aria-label="Open navigation menu"
          aria-expanded="false"
          aria-controls="mit-learn-nav-drawer"
        >
          <div class="mit-learn-menu-button-inner">
            {{- partial "icon.html" "ri-menu-line" -}}
            <span class="mit-learn-menu-button-text">Explore MIT</span>
          </div>
        </button>
      </div>
      {{/* Right side: RightSide (from Figma) */}}
      <div class="mit-learn-header-right">
        <a href="{{ $searchUrl }}/search" class="mit-learn-search-button" aria-label="Search">
          {{- partial "icon.html" "ri-search-line" -}}
        </a>
        {{/* User menu container - React will render UserMenu here if learn integration is enabled */}}
        <div class="mit-learn-user-menu-container"></div>
        {{/* Official MIT Logo (from Figma: Offical-Logo) */}}
        <a href="https://mit.edu/" class="mit-learn-official-logo mit-logo-link" target="_blank" rel="noopener" title="MIT Homepage">
          <img 
            src="{{- partial "get_asset_webpack_url.html" "images/mit-logo-white.svg" -}}" 
            alt="MIT" 
            class="mit-learn-official-logo-img"
          />
        </a>
      </div>
    </div>

    {{/* Mobile Layout */}}
    <div class="mit-learn-header-mobile">
      <button 
        id="mit-learn-menu-button-mobile"
        class="mit-learn-menu-button"
        aria-label="Open navigation menu"
        aria-expanded="false"
        aria-controls="mit-learn-nav-drawer"
      >
        {{- partial "icon.html" "ri-menu-line" -}}
      </button>
      <div class="mit-learn-header-spacer-left"></div>
      <a href="{{ $homeUrl }}" class="mit-learn-logo-link" title="MIT Learn Homepage">
        <img 
          src="{{- partial "get_asset_webpack_url.html" "images/mit_learn_logo.svg" -}}" 
          alt="MIT Learn" 
          class="mit-learn-logo mit-learn-logo-mobile"
        />
      </a>
      <div class="mit-learn-header-spacer"></div>
      <a href="{{ $searchUrl }}/search" class="mit-learn-search-button" aria-label="Search">
        {{- partial "icon.html" "ri-search-line" -}}
      </a>
      <div class="mit-learn-user-menu-container"></div>
      <a href="https://mit.edu/" class="mit-learn-official-logo mit-logo-link" target="_blank" rel="noopener" title="MIT Homepage">
        <img 
          src="{{- partial "get_asset_webpack_url.html" "images/mit-logo-white.svg" -}}" 
          alt="MIT" 
          class="mit-learn-official-logo-img"
        />
      </a>
    </div>
  </div>

  {{/* Navigation Drawer */}}
  <nav id="mit-learn-nav-drawer" class="mit-learn-nav-drawer" aria-hidden="true" aria-label="Main navigation">
    <div class="mit-learn-nav-drawer-content">
      {{/* LEARN Section */}}
      <div class="mit-learn-nav-section">
        <div class="mit-learn-nav-section-header has-button">
          <span>LEARN</span>
          <button 
            id="mit-learn-nav-close"
            class="mit-learn-nav-close-button"
            aria-label="Close navigation"
          >
            {{- partial "icon.html" "ri-close-line" -}}
          </button>
        </div>
        <div class="mit-learn-nav-items">
          <a href="{{ $searchUrl }}/search?resource_type=course" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container with-description">
              {{- partial "icon.html" "ri-school-fill" -}}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">Courses</span>
              <span class="mit-learn-nav-item-description">Single courses on a specific subject, taught by MIT instructors</span>
            </div>
          </a>
          <a href="{{ $searchUrl }}/search?resource_type=program" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container with-description">
              {{- partial "icon.html" "ri-stack-line" -}}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">Programs</span>
              <span class="mit-learn-nav-item-description">A series of courses for in-depth learning across a range of topics</span>
            </div>
          </a>
          <a href="{{ $searchUrl }}/search?resource_type=learning_material" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container with-description">
              {{- partial "icon.html" "ri-book-2-line" -}}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">Learning Materials</span>
              <span class="mit-learn-nav-item-description">Free learning and teaching materials, including videos, podcasts, lecture notes, and more</span>
            </div>
          </a>
        </div>
      </div>

      {{/* BROWSE Section */}}
      <div class="mit-learn-nav-section">
        <div class="mit-learn-nav-section-header">
          <span>BROWSE</span>
        </div>
        <div class="mit-learn-nav-items">
          <a href="{{ $searchUrl }}/topics" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container">
              {{- partial "icon.html" "ri-slideshow-3-line" -}}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">By Topic</span>
            </div>
          </a>
          <a href="{{ $searchUrl }}/departments" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container">
              {{- partial "icon.html" "ri-layout-column-line" -}}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">By Department</span>
            </div>
          </a>
          <a href="{{ $searchUrl }}/units" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container">
              {{- partial "icon.html" "ri-verified-badge-fill" -}}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">By Provider</span>
            </div>
          </a>
        </div>
      </div>

      {{/* DISCOVER Section */}}
      <div class="mit-learn-nav-section">
        <div class="mit-learn-nav-section-header">
          <span>DISCOVER LEARNING RESOURCES</span>
        </div>
        <div class="mit-learn-nav-items">
          <a href="{{ $searchUrl }}/search?sortby=new" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container">
              {{- partial "icon.html" "ri-file-add-line" -}}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">Recently Added</span>
            </div>
          </a>
          <a href="{{ $searchUrl }}/search?sortby=-views" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container">
              {{- partial "icon.html" "ri-thumb-up-line" -}}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">Popular</span>
            </div>
          </a>
          <a href="{{ $searchUrl }}/search?sortby=upcoming" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container">
              {{- partial "icon.html" "ri-time-line" -}}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">Upcoming</span>
            </div>
          </a>
          <a href="{{ $searchUrl }}/search?free=true" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container">
              {{- partial "icon.html" "ri-price-tag-3-line" -}}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">Free</span>
            </div>
          </a>
          <a href="{{ $searchUrl }}/search?certification=true" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container">
              {{- partial "icon.html" "ri-bookmark-line" -}}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">With Certificate</span>
            </div>
          </a>
        </div>
      </div>
    </div>
  </nav>

  {{/* Drawer Backdrop */}}
  <div id="mit-learn-nav-backdrop" class="mit-learn-nav-backdrop" aria-hidden="true"></div>
</header>
