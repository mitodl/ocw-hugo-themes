{{ $menu := index .context.Site.Menus "leftnav" }}
{{ $homeURL := partial "course_home_page_url.html" .context }}
{{/* Create Course Home menu item */}}
{{ $courseHomeItem := dict "Name" "Course Home" "URL" $homeURL "Identifier" "course-home" "PageRef" "" "HasChildren" false "Children" slice }}
{{/* Prepend Course Home to the menu */}}
{{ $menu = $menu | append (slice) }}
{{ $menu = slice $courseHomeItem | append $menu }}
<div class="mobile-course-menu-v3 medium-and-below-only" id="mobile-course-menu-v3">
  <button
    class="mobile-course-menu-toggle"
    type="button"
    id="mobile-course-menu-toggle-v3"
    aria-expanded="false"
    aria-controls="mobile-course-menu-items"
    aria-label="Toggle Course Menu"
  >
    <svg class="menu-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M2.5 15.8333H17.5M2.5 10H17.5M2.5 4.16667H17.5" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <span class="menu-label">Course Menu</span>
    <svg class="arrow-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M5 7.5L10 12.5L15 7.5" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>
  
  <div class="mobile-course-menu-items" id="mobile-course-menu-items" style="display: none;">
    {{ range $menu }}
      {{ partial "mobile_course_menu_item_v3.html" (dict "menuItem" . "context" $.context) }}
    {{ end }}
  </div>
</div>
