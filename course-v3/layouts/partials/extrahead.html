{{- define "title" -}}{{ partial "title.html" . }}{{- end -}}
{{- define "extrahead" -}}
<!-- Preconnect to external font providers to reduce connection latency -->
<link rel="preconnect" href="https://use.typekit.net" crossorigin>
<link rel="preconnect" href="https://p.typekit.net" crossorigin>
<!-- Adobe Fonts (neue-haas-grotesk) - fetch, patch font-display to optional to prevent late LCP repaints -->
<script>
(function(){
  var u='https://use.typekit.net/lbk1xay.css';
  fetch(u).then(function(r){return r.text()}).then(function(t){
    var s=document.createElement('style');
    s.textContent=t.replace(/font-display\s*:\s*auto/g,'font-display:optional');
    document.head.appendChild(s);
  });
})();
</script>
<noscript><link rel="stylesheet" href="https://use.typekit.net/lbk1xay.css"></noscript>
<!-- Preload course banner background image to improve LCP -->
{{- $bannerBgUrl := partial "get_asset_webpack_url.html" "images/course-v3-header-bg.jpg" -}}
<link rel="preload" as="image" href="{{ partial "webpack_url.html" (dict "context" . "url" $bannerBgUrl) }}" fetchpriority="high">
{{- $css_urls := slice (partial "get_asset_webpack_url.html" "course_v3.css") (partial "get_asset_webpack_url.html" "common.css") -}}
{{- $layout := .Params.layout -}}
{{- if eq $layout "instructor_insights" -}}
    {{- $css_urls = $css_urls | append (partial "get_asset_webpack_url.html" "instructor_insights.css") -}}
{{- end -}}
{{ partial "include_css.html" (dict "context" . "urls" $css_urls) }}
{{- end -}}
