{{/* MIT Learn-style Header for OCW */}}
{{/* Exact replication of MIT Learn Header from @mitodl/smoot-design */}}
{{ $homeUrl := partial "home_url.html" }}
{{/* MIT Learn base URL - update this when deploying to different environments */}}
{{ $searchUrl := "https://rc.learn.mit.edu" }}

{{/* Remix Icon SVG paths - same icons used in MIT Learn */}}
{{ $iconMenu := `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="remixicon"><path d="M3 4H21V6H3V4ZM3 11H21V13H3V11ZM3 18H21V20H3V18Z"></path></svg>` }}
{{ $iconClose := `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="remixicon"><path d="M10.5859 12L2.79297 4.20706L4.20718 2.79285L12.0001 10.5857L19.793 2.79285L21.2072 4.20706L13.4143 12L21.2072 19.7928L19.793 21.2071L12.0001 13.4142L4.20718 21.2071L2.79297 19.7928L10.5859 12Z"></path></svg>` }}
{{ $iconSearch := `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="remixicon"><path d="M11 2C15.968 2 20 6.032 20 11C20 15.968 15.968 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2ZM11 18C14.8675 18 18 14.8675 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18ZM19.4853 18.0711L22.3137 20.8995L20.8995 22.3137L18.0711 19.4853L19.4853 18.0711Z"></path></svg>` }}
{{ $iconSchool := `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="remixicon"><path d="M12 2L0 9L12 16L22 10.1667V17.5H24V9L12 2ZM3.99902 13.4905V18.0001C5.82344 20.429 8.72812 22.0001 11.9998 22.0001C15.2714 22.0001 18.1761 20.429 20.0005 18.0001L20.0001 13.4913L12.0003 18.1579L3.99902 13.4905Z"></path></svg>` }}
{{ $iconLayers := `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="remixicon"><path d="M12 1L21.5 6.5V17.5L12 23L2.5 17.5V6.5L12 1ZM12 3.311L4.5 7.65311V16.3469L12 20.689L19.5 16.3469V7.65311L12 3.311ZM12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12C16 14.2091 14.2091 16 12 16ZM12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10C10.8954 10 11 10.8954 11 12C11 13.1046 10.8954 14 12 14Z"></path></svg>` }}
{{ $iconBook := `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="remixicon"><path d="M21 18H6C5.44772 18 5 18.4477 5 19C5 19.5523 5.44772 20 6 20H21V22H6C4.34315 22 3 20.6569 3 19V4C3 2.89543 3.89543 2 5 2H21V18ZM5 16.05C5.16156 16.0172 5.32877 16 5.5 16H19V4H5V16.05ZM16 9H8V7H16V9Z"></path></svg>` }}
{{ $iconPresent := `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="remixicon"><path d="M21 3C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H21ZM20 5H4V19H20V5ZM18 15V17H6V15H18ZM12 7C13.6569 7 15 8.34315 15 10C15 11.6569 13.6569 13 12 13C10.3431 13 9 11.6569 9 10C9 8.34315 10.3431 7 12 7Z"></path></svg>` }}
{{ $iconTree := `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="remixicon"><path d="M15 3C15.5523 3 16 3.44772 16 4V6H21C21.5523 6 22 6.44772 22 7V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V7C2 6.44772 2.44772 6 3 6H8V4C8 3.44772 8.44772 3 9 3H15ZM8 8H4V19H8V8ZM14 8H10V19H14V8ZM20 8H16V19H20V8ZM14 5H10V6H14V5Z"></path></svg>` }}
{{ $iconVerified := `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="remixicon"><path d="M10.007 2.10377C8.60544 1.65006 7.08181 2.28116 6.41156 3.59306L5.60578 5.17023C5.51004 5.35763 5.35763 5.51004 5.17023 5.60578L3.59306 6.41156C2.28116 7.08181 1.65006 8.60544 2.10377 10.007L2.64923 11.692C2.71404 11.8922 2.71404 12.1078 2.64923 12.308L2.10377 13.993C1.65006 15.3946 2.28116 16.9182 3.59306 17.5885L5.17023 18.3942C5.35763 18.49 5.51004 18.6424 5.60578 18.8298L6.41156 20.407C7.08181 21.7189 8.60544 22.35 10.007 21.8963L11.692 21.3508C11.8922 21.286 12.1078 21.286 12.308 21.3508L13.993 21.8963C15.3946 22.35 16.9182 21.7189 17.5885 20.407L18.3942 18.8298C18.49 18.6424 18.6424 18.49 18.8298 18.3942L20.407 17.5885C21.7189 16.9182 22.35 15.3946 21.8963 13.993L21.3508 12.308C21.286 12.1078 21.286 11.8922 21.3508 11.692L21.8963 10.007C22.35 8.60544 21.7189 7.08181 20.407 6.41156L18.8298 5.60578C18.6424 5.51004 18.49 5.35763 18.3942 5.17023L17.5885 3.59306C16.9182 2.28116 15.3946 1.65006 13.993 2.10377L12.308 2.64923C12.1078 2.71403 11.8922 2.71404 11.692 2.64923L10.007 2.10377ZM6.75977 11.7573L8.17399 10.343L11.0024 13.1715L16.6593 7.51465L18.0735 8.92886L11.0024 15.9999L6.75977 11.7573Z"></path></svg>` }}
{{ $iconNew := `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="remixicon"><path d="M15 4H5V20H19V8H15V4ZM3 2.9918C3 2.44405 3.44749 2 3.9985 2H16L20.9997 7L21 20.9925C21 21.5489 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5447 3 21.0082V2.9918ZM11 11V8H13V11H16V13H13V16H11V13H8V11H11Z"></path></svg>` }}
{{ $iconThumbUp := `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="remixicon"><path d="M14.5998 8H21C21.5523 8 22 8.44772 22 9V11.5C22 11.6712 21.9605 11.8402 21.8848 11.9943L18.5515 18.6568C18.3731 19.0133 18.0086 19.2431 17.6035 19.25H3C2.44772 19.25 2 18.8023 2 18.25V10.25C2 9.69772 2.44772 9.25 3 9.25H6.47501C6.65988 9.25 6.84008 9.19276 6.99005 9.08608L12.0155 5.51659C12.1878 5.39408 12.4096 5.3563 12.6135 5.41526L13.1373 5.56722C13.6558 5.71781 14 6.19779 14 6.73914V8H14.5998ZM4 11.25V17.25H6.5V11.25H4ZM8.5 17.25H17.1553L20 11.6L20.0002 10H14.5998C13.4952 10 12.5998 9.10457 12.5998 8V7.03514L8.5 9.94114V17.25Z"></path></svg>` }}
{{ $iconSchedule := `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="remixicon"><path d="M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM13 6V11.5858L16.2426 14.8284L14.8284 16.2426L11 12.4142V6H13Z"></path></svg>` }}
{{ $iconSell := `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="remixicon"><path d="M10.9042 2.10025L20.8037 3.51446L22.2179 13.414L13.0255 22.6063C12.635 22.9969 12.0019 22.9969 11.6113 22.6063L1.71184 12.7069C1.32131 12.3163 1.32131 11.6832 1.71184 11.2926L10.9042 2.10025ZM11.6113 4.22157L3.83316 11.9997L12.3184 20.485L20.0966 12.7069L19.0361 5.28208L11.6113 4.22157ZM13.7327 10.5854C12.9516 9.80433 12.9516 8.53801 13.7327 7.75696C14.5137 6.9759 15.78 6.9759 16.5611 7.75696C17.3421 8.53801 17.3421 9.80433 16.5611 10.5854C15.78 11.3664 14.5137 11.3664 13.7327 10.5854Z"></path></svg>` }}
{{ $iconPremium := `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="remixicon"><path d="M17 3H7C5.89543 3 5 3.89543 5 5V21L12 17.5L19 21V5C19 3.89543 18.1046 3 17 3ZM17 5V17.8619L12 15.2112L7 17.8619V5H17ZM11 8H9V10H11V12H13V10H15V8H13V6H11V8Z"></path></svg>` }}

<header id="mit-learn-header" class="mit-learn-header">
  <div class="mit-learn-header-bar">
    <div class="mit-learn-header-content">
      <!-- Desktop Layout -->
      <div class="mit-learn-header-desktop">
        <a href="{{ $homeUrl }}" class="mit-learn-logo-link" title="MIT Learn Homepage">
          <img 
            src="{{- partial "get_asset_webpack_url.html" "images/mit_learn_logo.svg" -}}" 
            alt="MIT Learn" 
            class="mit-learn-logo"
          />
        </a>
        <div class="mit-learn-header-spacer-left"></div>
        <button 
          id="mit-learn-menu-button-desktop"
          class="mit-learn-menu-button"
          aria-label="Open navigation menu"
          aria-expanded="false"
          aria-controls="mit-learn-nav-drawer"
        >
          <div class="mit-learn-menu-button-inner">
            {{ $iconMenu | safeHTML }}
            <span class="mit-learn-menu-button-text">Explore MIT</span>
          </div>
        </button>
        <div class="mit-learn-header-spacer"></div>
        <a href="{{ $searchUrl }}/search" class="mit-learn-search-button" aria-label="Search">
          {{ $iconSearch | safeHTML }}
        </a>
        <div class="mit-learn-user-menu-container"></div>
        <a href="https://mit.edu/" class="mit-logo-link" target="_blank" rel="noopener" title="MIT Homepage">
          <img 
            src="{{- partial "get_asset_webpack_url.html" "images/mit-logo-white.svg" -}}" 
            alt="MIT" 
            class="mit-logo"
          />
        </a>
      </div>

      <!-- Mobile Layout -->
      <div class="mit-learn-header-mobile">
        <button 
          id="mit-learn-menu-button-mobile"
          class="mit-learn-menu-button mit-learn-menu-button-mobile"
          aria-label="Open navigation menu"
          aria-expanded="false"
          aria-controls="mit-learn-nav-drawer"
        >
          {{ $iconMenu | safeHTML }}
        </button>
        <div class="mit-learn-header-spacer-left"></div>
        <a href="{{ $homeUrl }}" class="mit-learn-logo-link" title="MIT Learn Homepage">
          <img 
            src="{{- partial "get_asset_webpack_url.html" "images/mit_learn_logo.svg" -}}" 
            alt="MIT Learn" 
            class="mit-learn-logo mit-learn-logo-mobile"
          />
        </a>
        <div class="mit-learn-header-spacer"></div>
        <a href="{{ $searchUrl }}/search" class="mit-learn-search-button" aria-label="Search">
          {{ $iconSearch | safeHTML }}
        </a>
        <div class="mit-learn-user-menu-container"></div>
        <a href="https://mit.edu/" class="mit-logo-link" target="_blank" rel="noopener" title="MIT Homepage">
          <img 
            src="{{- partial "get_asset_webpack_url.html" "images/mit-logo-white.svg" -}}" 
            alt="MIT" 
            class="mit-logo mit-logo-mobile"
          />
        </a>
      </div>
    </div>
  </div>

  <!-- Navigation Drawer -->
  <div id="mit-learn-nav-drawer" class="mit-learn-nav-drawer" aria-hidden="true">
    <div class="mit-learn-nav-drawer-content">
      <!-- LEARN Section -->
      <nav class="mit-learn-nav-section" aria-label="Learn">
        <div class="mit-learn-nav-section-header has-button">
          <span>LEARN</span>
          <button 
            id="mit-learn-nav-close"
            class="mit-learn-nav-close-button"
            aria-label="Close navigation"
          >
            {{ $iconClose | safeHTML }}
          </button>
        </div>
        <div class="mit-learn-nav-items">
          <a href="{{ $searchUrl }}/search?resource_type=course" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container with-description">
              {{ $iconSchool | safeHTML }}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">Courses</span>
              <span class="mit-learn-nav-item-description">Single courses on a specific subject, taught by MIT instructors</span>
            </div>
          </a>
          <a href="{{ $searchUrl }}/search?resource_type=program" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container with-description">
              {{ $iconLayers | safeHTML }}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">Programs</span>
              <span class="mit-learn-nav-item-description">A series of courses for in-depth learning across a range of topics</span>
            </div>
          </a>
          <a href="{{ $searchUrl }}/search?resource_type=learning_material" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container with-description">
              {{ $iconBook | safeHTML }}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">Learning Materials</span>
              <span class="mit-learn-nav-item-description">Free learning and teaching materials, including videos, podcasts, lecture notes, and more</span>
            </div>
          </a>
        </div>
      </nav>

      <!-- BROWSE Section -->
      <nav class="mit-learn-nav-section" aria-label="Browse">
        <div class="mit-learn-nav-section-header">
          <span>BROWSE</span>
        </div>
        <div class="mit-learn-nav-items">
          <a href="{{ $searchUrl }}/topics" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container">
              {{ $iconPresent | safeHTML }}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">By Topic</span>
            </div>
          </a>
          <a href="{{ $searchUrl }}/departments" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container">
              {{ $iconTree | safeHTML }}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">By Department</span>
            </div>
          </a>
          <a href="{{ $searchUrl }}/units" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container">
              {{ $iconVerified | safeHTML }}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">By Provider</span>
            </div>
          </a>
        </div>
      </nav>

      <!-- DISCOVER Section -->
      <nav class="mit-learn-nav-section" aria-label="Discover Learning Resources">
        <div class="mit-learn-nav-section-header">
          <span>DISCOVER LEARNING RESOURCES</span>
        </div>
        <div class="mit-learn-nav-items">
          <a href="{{ $searchUrl }}/search?sortby=new" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container">
              {{ $iconNew | safeHTML }}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">Recently Added</span>
            </div>
          </a>
          <a href="{{ $searchUrl }}/search?sortby=-views" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container">
              {{ $iconThumbUp | safeHTML }}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">Popular</span>
            </div>
          </a>
          <a href="{{ $searchUrl }}/search?sortby=upcoming" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container">
              {{ $iconSchedule | safeHTML }}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">Upcoming</span>
            </div>
          </a>
          <a href="{{ $searchUrl }}/search?free=true" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container">
              {{ $iconSell | safeHTML }}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">Free</span>
            </div>
          </a>
          <a href="{{ $searchUrl }}/search?certification=true" class="mit-learn-nav-item">
            <div class="mit-learn-nav-icon-container">
              {{ $iconPremium | safeHTML }}
            </div>
            <div class="mit-learn-nav-item-content">
              <span class="mit-learn-nav-item-title">With Certificate</span>
            </div>
          </a>
        </div>
      </nav>
    </div>
  </div>

  <!-- Drawer Backdrop -->
  <div id="mit-learn-nav-backdrop" class="mit-learn-nav-backdrop" aria-hidden="true"></div>
</header>

<div id="user-list-modal-container"></div>
<div id="create-user-list-modal-container"></div>
